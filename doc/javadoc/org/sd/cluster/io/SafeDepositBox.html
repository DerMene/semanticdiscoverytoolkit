<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_16) on Tue Nov 03 14:57:43 MST 2009 -->
<TITLE>
SafeDepositBox (JavaDOC for SD Toolkit)
</TITLE>

<META NAME="date" CONTENT="2009-11-03">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="SafeDepositBox (JavaDOC for SD Toolkit)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../org/sd/cluster/io/SafeDepositAgent.TransactionResult.html" title="class in org.sd.cluster.io"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../org/sd/cluster/io/SafeDepositBox.AdminInfo.html" title="class in org.sd.cluster.io"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?org/sd/cluster/io/SafeDepositBox.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="SafeDepositBox.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;<A HREF="#nested_class_summary">NESTED</A>&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
org.sd.cluster.io</FONT>
<BR>
Class SafeDepositBox</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../../resources/inherit.gif" ALT="extended by "><B>org.sd.cluster.io.SafeDepositBox</B>
</PRE>
<DL>
<DT><B>All Implemented Interfaces:</B> <DD><A HREF="../../../../org/sd/cluster/io/SafeDepositBoxMXBean.html" title="interface in org.sd.cluster.io">SafeDepositBoxMXBean</A>, <A HREF="../../../../org/sd/cluster/io/Shutdownable.html" title="interface in org.sd.cluster.io">Shutdownable</A></DD>
</DL>
<HR>
<DL>
<DT><PRE>public class <B>SafeDepositBox</B><DT>extends java.lang.Object<DT>implements <A HREF="../../../../org/sd/cluster/io/SafeDepositBoxMXBean.html" title="interface in org.sd.cluster.io">SafeDepositBoxMXBean</A>, <A HREF="../../../../org/sd/cluster/io/Shutdownable.html" title="interface in org.sd.cluster.io">Shutdownable</A></DL>
</PRE>

<P>
Container for SafeDepositMessage results waiting to be claimed.
 <p>
<P>

<P>
<DL>
<DT><B>Author:</B></DT>
  <DD>Spence Koehler</DD>
</DL>
<HR>

<P>
<!-- ======== NESTED CLASS SUMMARY ======== -->

<A NAME="nested_class_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Nested Class Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;class</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/sd/cluster/io/SafeDepositBox.AdminInfo.html" title="class in org.sd.cluster.io">SafeDepositBox.AdminInfo</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;class</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/sd/cluster/io/SafeDepositBox.Withdrawal.html" title="class in org.sd.cluster.io">SafeDepositBox.Withdrawal</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Container for a withdrawal from this instance.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;class</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/sd/cluster/io/SafeDepositBox.WithdrawalCode.html" title="enum in org.sd.cluster.io">SafeDepositBox.WithdrawalCode</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../org/sd/cluster/io/SafeDepositBox.html#SafeDepositBox()">SafeDepositBox</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default constructor.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../org/sd/cluster/io/SafeDepositBox.html#SafeDepositBox(long, java.util.concurrent.TimeUnit, double)">SafeDepositBox</A></B>(long&nbsp;monitorDelay,
               java.util.concurrent.TimeUnit&nbsp;delayUnit,
               double&nbsp;freeMemoryLimit)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Construct an instance.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/sd/cluster/io/SafeDepositBox.html#cleanHouse()">cleanHouse</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Incinerate expired and aged drawers.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/sd/cluster/io/SafeDepositBox.html#deposit(long, org.sd.io.Publishable)">deposit</A></B>(long&nbsp;claimNumber,
        <A HREF="../../../../org/sd/io/Publishable.html" title="interface in org.sd.io">Publishable</A>&nbsp;contents)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Set the contents of the drawer associated with the claim number.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../org/sd/cluster/io/SafeDepositBox.AdminInfo.html" title="class in org.sd.cluster.io">SafeDepositBox.AdminInfo</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/sd/cluster/io/SafeDepositBox.html#getAdminInfo()">getAdminInfo</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the current administration information snapshot for this instance</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/sd/cluster/io/SafeDepositBox.html#getContentsString(java.lang.String)">getContentsString</A></B>(java.lang.String&nbsp;key)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the contents from the drawer with the given key.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.List&lt;java.lang.String&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/sd/cluster/io/SafeDepositBox.html#getFilledKeys()">getFilledKeys</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the keys for the filled drawers.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;long</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/sd/cluster/io/SafeDepositBox.html#getNumActiveDrawers()">getNumActiveDrawers</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the number of active drawers (filled or filling).</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;long</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/sd/cluster/io/SafeDepositBox.html#getNumFilledDrawers()">getNumFilledDrawers</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the number of active drawers that are filled.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;long</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/sd/cluster/io/SafeDepositBox.html#getNumFillingDrawers()">getNumFillingDrawers</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the number of active drawers that are yet to be filled.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;long</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/sd/cluster/io/SafeDepositBox.html#getNumIncineratedDrawers()">getNumIncineratedDrawers</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the number of incinerated drawers.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;long</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/sd/cluster/io/SafeDepositBox.html#getTotalDrawerCount()">getTotalDrawerCount</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the total number of drawers (active and incinerated).</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../org/sd/util/thread/UnitCounter.html" title="class in org.sd.util.thread">UnitCounter</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/sd/cluster/io/SafeDepositBox.html#getUnitCounter(long)">getUnitCounter</A></B>(long&nbsp;claimNumber)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the UnitCounter associated with the claim number.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/sd/cluster/io/SafeDepositBox.html#incinerate(long)">incinerate</A></B>(long&nbsp;claimNumber)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Close the drawer, incinerating its contents.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/sd/cluster/io/SafeDepositBox.html#incinerate(java.lang.String)">incinerate</A></B>(java.lang.String&nbsp;key)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Incinerate the drawer with the given key.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;long</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/sd/cluster/io/SafeDepositBox.html#incinerateOlder(long)">incinerateOlder</A></B>(long&nbsp;age)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Incinerate all drawers that are older than the given age (in millis).</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.Long</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/sd/cluster/io/SafeDepositBox.html#lookupKey(java.lang.String)">lookupKey</A></B>(java.lang.String&nbsp;key)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Lookup the key to find its associated claim num.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;long</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/sd/cluster/io/SafeDepositBox.html#reserveDrawer(long, java.lang.String, org.sd.util.thread.UnitCounter)">reserveDrawer</A></B>(long&nbsp;forMillis,
              java.lang.String&nbsp;key,
              <A HREF="../../../../org/sd/util/thread/UnitCounter.html" title="class in org.sd.util.thread">UnitCounter</A>&nbsp;uc)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Reserve a drawer for a time.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/sd/cluster/io/SafeDepositBox.html#shutdown(boolean)">shutdown</A></B>(boolean&nbsp;now)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Shutdown this instance.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/sd/cluster/io/SafeDepositBox.html#wasReserved(long)">wasReserved</A></B>(long&nbsp;claimNumber)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Determine whether the claim number has been reserved.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../org/sd/cluster/io/SafeDepositBox.Withdrawal.html" title="class in org.sd.cluster.io">SafeDepositBox.Withdrawal</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/sd/cluster/io/SafeDepositBox.html#withdraw(long, boolean)">withdraw</A></B>(long&nbsp;claimNumber,
         boolean&nbsp;closeBox)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Withdraw the contents associated with the claim number, optionally
 closing the box if the contents are retrieved.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="SafeDepositBox()"><!-- --></A><H3>
SafeDepositBox</H3>
<PRE>
public <B>SafeDepositBox</B>()</PRE>
<DL>
<DD>Default constructor.
 <p>
 Construct an instance with monitorDelay of 10 seconds and to disable
 caching when memory reaches 85% capacity.
<P>
</DL>
<HR>

<A NAME="SafeDepositBox(long, java.util.concurrent.TimeUnit, double)"><!-- --></A><H3>
SafeDepositBox</H3>
<PRE>
public <B>SafeDepositBox</B>(long&nbsp;monitorDelay,
                      java.util.concurrent.TimeUnit&nbsp;delayUnit,
                      double&nbsp;freeMemoryLimit)</PRE>
<DL>
<DD>Construct an instance.
 <p>
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>monitorDelay</CODE> - the amount of time between cleaning house.<DD><CODE>delayUnit</CODE> - the units of monitorDelay<DD><CODE>freeMemoryLimit</CODE> - the percentage of memory capacity at which caching
                         will be (temporarily) disabled. That is, when free
                         memory is below the limit, all aging drawers will
                         be incinerated.</DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="shutdown(boolean)"><!-- --></A><H3>
shutdown</H3>
<PRE>
public void <B>shutdown</B>(boolean&nbsp;now)</PRE>
<DL>
<DD>Shutdown this instance.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../org/sd/cluster/io/Shutdownable.html#shutdown(boolean)">shutdown</A></CODE> in interface <CODE><A HREF="../../../../org/sd/cluster/io/Shutdownable.html" title="interface in org.sd.cluster.io">Shutdownable</A></CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="reserveDrawer(long, java.lang.String, org.sd.util.thread.UnitCounter)"><!-- --></A><H3>
reserveDrawer</H3>
<PRE>
public long <B>reserveDrawer</B>(long&nbsp;forMillis,
                          java.lang.String&nbsp;key,
                          <A HREF="../../../../org/sd/util/thread/UnitCounter.html" title="class in org.sd.util.thread">UnitCounter</A>&nbsp;uc)</PRE>
<DL>
<DD>Reserve a drawer for a time.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>forMillis</CODE> - the number of millis after opening (now) before the drawer expires.
                   if 0, then the drawer will expire when memory runs low.
                   if negative, then the drawer will expire this magnitude of millis
                   after successful withdawal. (In other words, cache the value for
                   repeated retrieval the given amount of time. Each time it is retrieved,
                   the cache clock will be reset.)<DD><CODE>key</CODE> - A key to associate with the new claim number (if non-null).
<DT><B>Returns:</B><DD>the claim number to use to access the drawer.</DL>
</DD>
</DL>
<HR>

<A NAME="lookupKey(java.lang.String)"><!-- --></A><H3>
lookupKey</H3>
<PRE>
public java.lang.Long <B>lookupKey</B>(java.lang.String&nbsp;key)</PRE>
<DL>
<DD>Lookup the key to find its associated claim num.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="incinerate(long)"><!-- --></A><H3>
incinerate</H3>
<PRE>
public void <B>incinerate</B>(long&nbsp;claimNumber)</PRE>
<DL>
<DD>Close the drawer, incinerating its contents.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="deposit(long, org.sd.io.Publishable)"><!-- --></A><H3>
deposit</H3>
<PRE>
public boolean <B>deposit</B>(long&nbsp;claimNumber,
                       <A HREF="../../../../org/sd/io/Publishable.html" title="interface in org.sd.io">Publishable</A>&nbsp;contents)</PRE>
<DL>
<DD>Set the contents of the drawer associated with the claim number.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>true if the deposit succeeded; otherwise, false (i.e. if the drawer expired.)</DL>
</DD>
</DL>
<HR>

<A NAME="wasReserved(long)"><!-- --></A><H3>
wasReserved</H3>
<PRE>
public boolean <B>wasReserved</B>(long&nbsp;claimNumber)</PRE>
<DL>
<DD>Determine whether the claim number has been reserved.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getUnitCounter(long)"><!-- --></A><H3>
getUnitCounter</H3>
<PRE>
public <A HREF="../../../../org/sd/util/thread/UnitCounter.html" title="class in org.sd.util.thread">UnitCounter</A> <B>getUnitCounter</B>(long&nbsp;claimNumber)</PRE>
<DL>
<DD>Get the UnitCounter associated with the claim number.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>the UnitCounter or null if not found/available/present.</DL>
</DD>
</DL>
<HR>

<A NAME="withdraw(long, boolean)"><!-- --></A><H3>
withdraw</H3>
<PRE>
public <A HREF="../../../../org/sd/cluster/io/SafeDepositBox.Withdrawal.html" title="class in org.sd.cluster.io">SafeDepositBox.Withdrawal</A> <B>withdraw</B>(long&nbsp;claimNumber,
                                          boolean&nbsp;closeBox)</PRE>
<DL>
<DD>Withdraw the contents associated with the claim number, optionally
 closing the box if the contents are retrieved. Note that when closed,
 the drawer can no longer be accessed.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>the contents associated with the claim number.</DL>
</DD>
</DL>
<HR>

<A NAME="cleanHouse()"><!-- --></A><H3>
cleanHouse</H3>
<PRE>
public void <B>cleanHouse</B>()</PRE>
<DL>
<DD>Incinerate expired and aged drawers.
 <p>
 Also destroys cached drawers when free memory is "low".
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getAdminInfo()"><!-- --></A><H3>
getAdminInfo</H3>
<PRE>
public <A HREF="../../../../org/sd/cluster/io/SafeDepositBox.AdminInfo.html" title="class in org.sd.cluster.io">SafeDepositBox.AdminInfo</A> <B>getAdminInfo</B>()</PRE>
<DL>
<DD>Get the current administration information snapshot for this instance
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getTotalDrawerCount()"><!-- --></A><H3>
getTotalDrawerCount</H3>
<PRE>
public long <B>getTotalDrawerCount</B>()</PRE>
<DL>
<DD>Get the total number of drawers (active and incinerated).
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../org/sd/cluster/io/SafeDepositBoxMXBean.html#getTotalDrawerCount()">getTotalDrawerCount</A></CODE> in interface <CODE><A HREF="../../../../org/sd/cluster/io/SafeDepositBoxMXBean.html" title="interface in org.sd.cluster.io">SafeDepositBoxMXBean</A></CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getNumIncineratedDrawers()"><!-- --></A><H3>
getNumIncineratedDrawers</H3>
<PRE>
public long <B>getNumIncineratedDrawers</B>()</PRE>
<DL>
<DD>Get the number of incinerated drawers.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../org/sd/cluster/io/SafeDepositBoxMXBean.html#getNumIncineratedDrawers()">getNumIncineratedDrawers</A></CODE> in interface <CODE><A HREF="../../../../org/sd/cluster/io/SafeDepositBoxMXBean.html" title="interface in org.sd.cluster.io">SafeDepositBoxMXBean</A></CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getNumActiveDrawers()"><!-- --></A><H3>
getNumActiveDrawers</H3>
<PRE>
public long <B>getNumActiveDrawers</B>()</PRE>
<DL>
<DD>Get the number of active drawers (filled or filling).
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../org/sd/cluster/io/SafeDepositBoxMXBean.html#getNumActiveDrawers()">getNumActiveDrawers</A></CODE> in interface <CODE><A HREF="../../../../org/sd/cluster/io/SafeDepositBoxMXBean.html" title="interface in org.sd.cluster.io">SafeDepositBoxMXBean</A></CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getNumFilledDrawers()"><!-- --></A><H3>
getNumFilledDrawers</H3>
<PRE>
public long <B>getNumFilledDrawers</B>()</PRE>
<DL>
<DD>Get the number of active drawers that are filled.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../org/sd/cluster/io/SafeDepositBoxMXBean.html#getNumFilledDrawers()">getNumFilledDrawers</A></CODE> in interface <CODE><A HREF="../../../../org/sd/cluster/io/SafeDepositBoxMXBean.html" title="interface in org.sd.cluster.io">SafeDepositBoxMXBean</A></CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getNumFillingDrawers()"><!-- --></A><H3>
getNumFillingDrawers</H3>
<PRE>
public long <B>getNumFillingDrawers</B>()</PRE>
<DL>
<DD>Get the number of active drawers that are yet to be filled.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../org/sd/cluster/io/SafeDepositBoxMXBean.html#getNumFillingDrawers()">getNumFillingDrawers</A></CODE> in interface <CODE><A HREF="../../../../org/sd/cluster/io/SafeDepositBoxMXBean.html" title="interface in org.sd.cluster.io">SafeDepositBoxMXBean</A></CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getFilledKeys()"><!-- --></A><H3>
getFilledKeys</H3>
<PRE>
public java.util.List&lt;java.lang.String&gt; <B>getFilledKeys</B>()</PRE>
<DL>
<DD>Get the keys for the filled drawers.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../org/sd/cluster/io/SafeDepositBoxMXBean.html#getFilledKeys()">getFilledKeys</A></CODE> in interface <CODE><A HREF="../../../../org/sd/cluster/io/SafeDepositBoxMXBean.html" title="interface in org.sd.cluster.io">SafeDepositBoxMXBean</A></CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getContentsString(java.lang.String)"><!-- --></A><H3>
getContentsString</H3>
<PRE>
public java.lang.String <B>getContentsString</B>(java.lang.String&nbsp;key)</PRE>
<DL>
<DD>Get the contents from the drawer with the given key.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../org/sd/cluster/io/SafeDepositBoxMXBean.html#getContentsString(java.lang.String)">getContentsString</A></CODE> in interface <CODE><A HREF="../../../../org/sd/cluster/io/SafeDepositBoxMXBean.html" title="interface in org.sd.cluster.io">SafeDepositBoxMXBean</A></CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="incinerate(java.lang.String)"><!-- --></A><H3>
incinerate</H3>
<PRE>
public void <B>incinerate</B>(java.lang.String&nbsp;key)</PRE>
<DL>
<DD>Incinerate the drawer with the given key.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../org/sd/cluster/io/SafeDepositBoxMXBean.html#incinerate(java.lang.String)">incinerate</A></CODE> in interface <CODE><A HREF="../../../../org/sd/cluster/io/SafeDepositBoxMXBean.html" title="interface in org.sd.cluster.io">SafeDepositBoxMXBean</A></CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="incinerateOlder(long)"><!-- --></A><H3>
incinerateOlder</H3>
<PRE>
public long <B>incinerateOlder</B>(long&nbsp;age)</PRE>
<DL>
<DD>Incinerate all drawers that are older than the given age (in millis).
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../org/sd/cluster/io/SafeDepositBoxMXBean.html#incinerateOlder(long)">incinerateOlder</A></CODE> in interface <CODE><A HREF="../../../../org/sd/cluster/io/SafeDepositBoxMXBean.html" title="interface in org.sd.cluster.io">SafeDepositBoxMXBean</A></CODE></DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>the number of drawers incinerated.</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../org/sd/cluster/io/SafeDepositAgent.TransactionResult.html" title="class in org.sd.cluster.io"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../org/sd/cluster/io/SafeDepositBox.AdminInfo.html" title="class in org.sd.cluster.io"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?org/sd/cluster/io/SafeDepositBox.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="SafeDepositBox.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;<A HREF="#nested_class_summary">NESTED</A>&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
