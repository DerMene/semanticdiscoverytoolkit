<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_16) on Tue Nov 03 14:57:41 MST 2009 -->
<TITLE>
BlockingThreadPool (JavaDOC for SD Toolkit)
</TITLE>

<META NAME="date" CONTENT="2009-11-03">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="BlockingThreadPool (JavaDOC for SD Toolkit)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../org/sd/util/thread/BaseGovernable.html" title="class in org.sd.util.thread"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../org/sd/util/thread/Bucket.html" title="enum in org.sd.util.thread"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?org/sd/util/thread/BlockingThreadPool.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="BlockingThreadPool.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
org.sd.util.thread</FONT>
<BR>
Class BlockingThreadPool</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../../resources/inherit.gif" ALT="extended by "><B>org.sd.util.thread.BlockingThreadPool</B>
</PRE>
<HR>
<DL>
<DT><PRE>public class <B>BlockingThreadPool</B><DT>extends java.lang.Object</DL>
</PRE>

<P>
A fixed thread pool that accepts runnables to execute when threads are
 available.
 <p>
 The fastest path to shutting down the pool is: pool.shutdown(true).
 Any items remaining on the queue and any items being worked on are clipped
 and terminated as quickly as possible.
 <p>
 The cleanest (but longest) path to shutdown is the following sequence:
 <ul>
 <li>pool.stopAcceptingWork();
 <li>pool.waitForQueueToEmpty(timeout, waitInterval);
 <li>pool.shutdown(false);
 <li>pool.waitUntilDone(timeout, timeUnit);
 </ul>
 This will finish all submitted and running work before terminating.
<P>

<P>
<DL>
<DT><B>Author:</B></DT>
  <DD>Spence Koehler</DD>
</DL>
<HR>

<P>

<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../org/sd/util/thread/BlockingThreadPool.html#BlockingThreadPool(java.lang.String, int, int, int)">BlockingThreadPool</A></B>(java.lang.String&nbsp;poolId,
                   int&nbsp;numThreads,
                   int&nbsp;maxQueueSize,
                   int&nbsp;maximumErrors)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Construct pool with the number of threads to use and the maximum queue
 size.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/sd/util/thread/BlockingThreadPool.html#add(org.sd.util.thread.HookedRunnable, long, java.util.concurrent.TimeUnit)">add</A></B>(<A HREF="../../../../org/sd/util/thread/HookedRunnable.html" title="interface in org.sd.util.thread">HookedRunnable</A>&nbsp;runnable,
    long&nbsp;timeout,
    java.util.concurrent.TimeUnit&nbsp;unit)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Add more work to the queue.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.List&lt;<A HREF="../../../../org/sd/util/thread/HookedRunnable.html" title="interface in org.sd.util.thread">HookedRunnable</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/sd/util/thread/BlockingThreadPool.html#drainQueue()">drainQueue</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Drain the and return the current contents of the queue.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/sd/util/thread/BlockingThreadPool.html#getMaximumErrors()">getMaximumErrors</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the maximum number of errors that will be caught before automatically
 shutting down.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/sd/util/thread/BlockingThreadPool.html#getMaxQueueSize()">getMaxQueueSize</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the maximum size of the queue.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/sd/util/thread/BlockingThreadPool.html#getNumErrors()">getNumErrors</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the number of errors that have been caught by threads in this pool.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/sd/util/thread/BlockingThreadPool.html#getNumQueued()">getNumQueued</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the number of runnables queued in this pool.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/sd/util/thread/BlockingThreadPool.html#getNumRun()">getNumRun</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the total number of runnables that have (not necessarily successfully)
 been run by this pool.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/sd/util/thread/BlockingThreadPool.html#getNumRunningThreads()">getNumRunningThreads</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the number of threads that are currently running in this pool.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/sd/util/thread/BlockingThreadPool.html#getNumThreads()">getNumThreads</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the number of threads that this pool can run.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../org/sd/util/StatsAccumulator.html" title="class in org.sd.util">StatsAccumulator</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/sd/util/thread/BlockingThreadPool.html#getOperationTimes()">getOperationTimes</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the stats accumulator for how long operations are taking in millis.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/sd/util/thread/BlockingThreadPool.html#getPoolId()">getPoolId</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get this pool's id.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.Map&lt;java.lang.Long,<A HREF="../../../../org/sd/util/thread/HookedRunnable.html" title="interface in org.sd.util.thread">HookedRunnable</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/sd/util/thread/BlockingThreadPool.html#getRunning()">getRunning</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get a map of the runnables that are being processed in this pool, mapped
 by the length of time they have been running.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.Date</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/sd/util/thread/BlockingThreadPool.html#getStartDate()">getStartDate</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the timestamp for when this thread pool was started.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.Date</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/sd/util/thread/BlockingThreadPool.html#getStopDate()">getStopDate</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the timestamp for when this thread pool was shut down.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/sd/util/thread/BlockingThreadPool.html#isAcceptingWork()">isAcceptingWork</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Determine whether this instance is currently accepting work.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/sd/util/thread/BlockingThreadPool.html#isFull()">isFull</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Determine whether this queue is currently full.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/sd/util/thread/BlockingThreadPool.html#isShutdown()">isShutdown</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Determine whether this pool has been shutdown.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/sd/util/thread/BlockingThreadPool.html#isTransferingWork()">isTransferingWork</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Determine whether this instance is currently transfering work.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/sd/util/thread/BlockingThreadPool.html#isUp()">isUp</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Determine whether this pool is up.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/sd/util/thread/BlockingThreadPool.html#killLongestRunningThread()">killLongestRunningThread</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/sd/util/thread/BlockingThreadPool.html#resumeAcceptingWork()">resumeAcceptingWork</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Resume accepting items to be added to the queue.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/sd/util/thread/BlockingThreadPool.html#resumeTransferingWork()">resumeTransferingWork</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Resume transfering items to be added to the queue.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.List&lt;<A HREF="../../../../org/sd/util/thread/HookedRunnable.html" title="interface in org.sd.util.thread">HookedRunnable</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/sd/util/thread/BlockingThreadPool.html#shutdown(boolean)">shutdown</A></B>(boolean&nbsp;now)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Shut this pool down if it is still up.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/sd/util/thread/BlockingThreadPool.html#stopAcceptingWork()">stopAcceptingWork</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Stop accepting more items added to the queue.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/sd/util/thread/BlockingThreadPool.html#stopTransferingWork()">stopTransferingWork</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Stop transfering more items added to the queue.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/sd/util/thread/BlockingThreadPool.html#waitForAvailableSlot(long, int, java.util.concurrent.atomic.AtomicBoolean)">waitForAvailableSlot</A></B>(long&nbsp;timeout,
                     int&nbsp;waitInterval,
                     java.util.concurrent.atomic.AtomicBoolean&nbsp;pause)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Wait for an opening in the queue.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/sd/util/thread/BlockingThreadPool.html#waitForQueueToEmpty(long, int)">waitForQueueToEmpty</A></B>(long&nbsp;timeout,
                    int&nbsp;waitInterval)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Wait for the queue's contents to be transfered to worker threads.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/sd/util/thread/BlockingThreadPool.html#waitUntilDone(long, java.util.concurrent.TimeUnit)">waitUntilDone</A></B>(long&nbsp;timeout,
              java.util.concurrent.TimeUnit&nbsp;unit)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Assuming a shutdown command has already been issued, wait until all
 running threads are finished.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="BlockingThreadPool(java.lang.String, int, int, int)"><!-- --></A><H3>
BlockingThreadPool</H3>
<PRE>
public <B>BlockingThreadPool</B>(java.lang.String&nbsp;poolId,
                          int&nbsp;numThreads,
                          int&nbsp;maxQueueSize,
                          int&nbsp;maximumErrors)</PRE>
<DL>
<DD>Construct pool with the number of threads to use and the maximum queue
 size. Once numThreads are all executing AND maxQueueSize is met, the
 pool will block on adding new runnables until a thread finishes running
 and pulls a runnable from the queue.
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>poolId</CODE> - Identifier for the pool (thread names).<DD><CODE>numThreads</CODE> - The number of threads to run simultaneously.<DD><CODE>maxQueueSize</CODE> - The maximum number of runnables to hold before
                      waiting for a thread to become available.<DD><CODE>maximumErrors</CODE> - The maximum number of errors to accept before
                      automatically shutting down (&lt;=0 means to never
                      shut down automatially due to errors).</DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="getPoolId()"><!-- --></A><H3>
getPoolId</H3>
<PRE>
public java.lang.String <B>getPoolId</B>()</PRE>
<DL>
<DD>Get this pool's id.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getNumThreads()"><!-- --></A><H3>
getNumThreads</H3>
<PRE>
public int <B>getNumThreads</B>()</PRE>
<DL>
<DD>Get the number of threads that this pool can run.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getNumRunningThreads()"><!-- --></A><H3>
getNumRunningThreads</H3>
<PRE>
public int <B>getNumRunningThreads</B>()</PRE>
<DL>
<DD>Get the number of threads that are currently running in this pool.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getRunning()"><!-- --></A><H3>
getRunning</H3>
<PRE>
public java.util.Map&lt;java.lang.Long,<A HREF="../../../../org/sd/util/thread/HookedRunnable.html" title="interface in org.sd.util.thread">HookedRunnable</A>&gt; <B>getRunning</B>()</PRE>
<DL>
<DD>Get a map of the runnables that are being processed in this pool, mapped
 by the length of time they have been running.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getMaxQueueSize()"><!-- --></A><H3>
getMaxQueueSize</H3>
<PRE>
public int <B>getMaxQueueSize</B>()</PRE>
<DL>
<DD>Get the maximum size of the queue.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getNumQueued()"><!-- --></A><H3>
getNumQueued</H3>
<PRE>
public int <B>getNumQueued</B>()</PRE>
<DL>
<DD>Get the number of runnables queued in this pool.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="isFull()"><!-- --></A><H3>
isFull</H3>
<PRE>
public boolean <B>isFull</B>()</PRE>
<DL>
<DD>Determine whether this queue is currently full.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getOperationTimes()"><!-- --></A><H3>
getOperationTimes</H3>
<PRE>
public <A HREF="../../../../org/sd/util/StatsAccumulator.html" title="class in org.sd.util">StatsAccumulator</A> <B>getOperationTimes</B>()</PRE>
<DL>
<DD>Get the stats accumulator for how long operations are taking in millis.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getStartDate()"><!-- --></A><H3>
getStartDate</H3>
<PRE>
public java.util.Date <B>getStartDate</B>()</PRE>
<DL>
<DD>Get the timestamp for when this thread pool was started.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getStopDate()"><!-- --></A><H3>
getStopDate</H3>
<PRE>
public java.util.Date <B>getStopDate</B>()</PRE>
<DL>
<DD>Get the timestamp for when this thread pool was shut down.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>the shutdown time or null if still alive.</DL>
</DD>
</DL>
<HR>

<A NAME="getNumRun()"><!-- --></A><H3>
getNumRun</H3>
<PRE>
public int <B>getNumRun</B>()</PRE>
<DL>
<DD>Get the total number of runnables that have (not necessarily successfully)
 been run by this pool.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getNumErrors()"><!-- --></A><H3>
getNumErrors</H3>
<PRE>
public int <B>getNumErrors</B>()</PRE>
<DL>
<DD>Get the number of errors that have been caught by threads in this pool.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getMaximumErrors()"><!-- --></A><H3>
getMaximumErrors</H3>
<PRE>
public int <B>getMaximumErrors</B>()</PRE>
<DL>
<DD>Get the maximum number of errors that will be caught before automatically
 shutting down.
 <p>
<P>
<DD><DL>

<DT><B>Returns:</B><DD>the maximum, where &lt;= 0 indicates to never shutdown due to errors.</DL>
</DD>
</DL>
<HR>

<A NAME="isUp()"><!-- --></A><H3>
isUp</H3>
<PRE>
public boolean <B>isUp</B>()</PRE>
<DL>
<DD>Determine whether this pool is up.
 <p>
 Note that once a pool is shutdown, it cannot be brought up again; a new
 instance will need to be created.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="isShutdown()"><!-- --></A><H3>
isShutdown</H3>
<PRE>
public boolean <B>isShutdown</B>()</PRE>
<DL>
<DD>Determine whether this pool has been shutdown.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="shutdown(boolean)"><!-- --></A><H3>
shutdown</H3>
<PRE>
public java.util.List&lt;<A HREF="../../../../org/sd/util/thread/HookedRunnable.html" title="interface in org.sd.util.thread">HookedRunnable</A>&gt; <B>shutdown</B>(boolean&nbsp;now)</PRE>
<DL>
<DD>Shut this pool down if it is still up.
 <p>
 Drain any runnables on the queue and, if 'now', also attempt to reclaim
 elements submitted to the thread pool, but not running yet.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="add(org.sd.util.thread.HookedRunnable, long, java.util.concurrent.TimeUnit)"><!-- --></A><H3>
add</H3>
<PRE>
public boolean <B>add</B>(<A HREF="../../../../org/sd/util/thread/HookedRunnable.html" title="interface in org.sd.util.thread">HookedRunnable</A>&nbsp;runnable,
                   long&nbsp;timeout,
                   java.util.concurrent.TimeUnit&nbsp;unit)</PRE>
<DL>
<DD>Add more work to the queue.
 <p>
 If this pool has been shutdown, an IllegalStateException will be thrown.
 If this queue is not accepting work or if the timeout is reached before
 the queue empties enough to accept the work, false will be returned.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>true if the work was added to the queue.</DL>
</DD>
</DL>
<HR>

<A NAME="drainQueue()"><!-- --></A><H3>
drainQueue</H3>
<PRE>
public java.util.List&lt;<A HREF="../../../../org/sd/util/thread/HookedRunnable.html" title="interface in org.sd.util.thread">HookedRunnable</A>&gt; <B>drainQueue</B>()</PRE>
<DL>
<DD>Drain the and return the current contents of the queue.
 <p>
 Current queue contents are those runnables that have not yet been
 submitted to threads for execution.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>the unexecuted runnables from the queue.</DL>
</DD>
</DL>
<HR>

<A NAME="stopAcceptingWork()"><!-- --></A><H3>
stopAcceptingWork</H3>
<PRE>
public void <B>stopAcceptingWork</B>()</PRE>
<DL>
<DD>Stop accepting more items added to the queue.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="resumeAcceptingWork()"><!-- --></A><H3>
resumeAcceptingWork</H3>
<PRE>
public void <B>resumeAcceptingWork</B>()</PRE>
<DL>
<DD>Resume accepting items to be added to the queue.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="isAcceptingWork()"><!-- --></A><H3>
isAcceptingWork</H3>
<PRE>
public boolean <B>isAcceptingWork</B>()</PRE>
<DL>
<DD>Determine whether this instance is currently accepting work.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="stopTransferingWork()"><!-- --></A><H3>
stopTransferingWork</H3>
<PRE>
public void <B>stopTransferingWork</B>()</PRE>
<DL>
<DD>Stop transfering more items added to the queue.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="resumeTransferingWork()"><!-- --></A><H3>
resumeTransferingWork</H3>
<PRE>
public void <B>resumeTransferingWork</B>()</PRE>
<DL>
<DD>Resume transfering items to be added to the queue.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="isTransferingWork()"><!-- --></A><H3>
isTransferingWork</H3>
<PRE>
public boolean <B>isTransferingWork</B>()</PRE>
<DL>
<DD>Determine whether this instance is currently transfering work.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="waitForQueueToEmpty(long, int)"><!-- --></A><H3>
waitForQueueToEmpty</H3>
<PRE>
public boolean <B>waitForQueueToEmpty</B>(long&nbsp;timeout,
                                   int&nbsp;waitInterval)</PRE>
<DL>
<DD>Wait for the queue's contents to be transfered to worker threads.
 <p>
 Note that this method does nothing to block other threads from continuing
 to place work on the queue. Consumers should usually call 'stopAcceptingWork'
 before calling this method.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>timeout</CODE> - maximum time to wait in milliseconds.<DD><CODE>waitInterval</CODE> - time to sleep between checking.
<DT><B>Returns:</B><DD>true to confirm completion; false if timed out or interrupted.</DL>
</DD>
</DL>
<HR>

<A NAME="waitForAvailableSlot(long, int, java.util.concurrent.atomic.AtomicBoolean)"><!-- --></A><H3>
waitForAvailableSlot</H3>
<PRE>
public boolean <B>waitForAvailableSlot</B>(long&nbsp;timeout,
                                    int&nbsp;waitInterval,
                                    java.util.concurrent.atomic.AtomicBoolean&nbsp;pause)</PRE>
<DL>
<DD>Wait for an opening in the queue.
 <p>
 Note that this method does nothing to block other threads from continuing
 to place work on the queue. Consumers should usually call 'stopAcceptingWork'
 before calling this method.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>timeout</CODE> - maximum time to wait in milliseconds.<DD><CODE>waitInterval</CODE> - time to sleep between checking.
<DT><B>Returns:</B><DD>true to confirm completion; false if timed out or interrupted.</DL>
</DD>
</DL>
<HR>

<A NAME="waitUntilDone(long, java.util.concurrent.TimeUnit)"><!-- --></A><H3>
waitUntilDone</H3>
<PRE>
public boolean <B>waitUntilDone</B>(long&nbsp;timeout,
                             java.util.concurrent.TimeUnit&nbsp;unit)</PRE>
<DL>
<DD>Assuming a shutdown command has already been issued, wait until all
 running threads are finished.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>true to confirm completion; false if timed out or interrupted.</DL>
</DD>
</DL>
<HR>

<A NAME="killLongestRunningThread()"><!-- --></A><H3>
killLongestRunningThread</H3>
<PRE>
public void <B>killLongestRunningThread</B>()</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../org/sd/util/thread/BaseGovernable.html" title="class in org.sd.util.thread"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../org/sd/util/thread/Bucket.html" title="enum in org.sd.util.thread"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?org/sd/util/thread/BlockingThreadPool.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="BlockingThreadPool.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
